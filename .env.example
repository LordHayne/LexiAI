# Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!

# ==============================================
# ENVIRONMENT
# ==============================================
# Options: production, development, dev, local
ENV=development

# ==============================================
# API AUTHENTICATION
# ==============================================
# API Key Authentication (REQUIRED for production)
# SECURITY: Set to True in production!
LEXI_API_KEY_ENABLED=False

# Generate a secure API key using:
# python -c "import secrets; print(secrets.token_hex(32))"
#
# SECURITY WARNING: Do NOT use default/weak keys in production!
# The following keys will be rejected:
# - dev_api_key_change_me_in_production
# - your-secure-api-key-here
# - test, admin, password, 12345, changeme
#
# Example secure key (DO NOT USE THIS - generate your own!):
# LEXI_API_KEY=a1b2c3d4e5f6789012345678901234567890123456789012345678901234

# Minimum key length: 32 characters
# LEXI_API_KEY=  # <-- PUT YOUR GENERATED KEY HERE

# API Key Header Name (default: X-API-Key)
# LEXI_API_KEY_HEADER=X-API-Key

# API Key Rotation (days)
# SECURITY: Rotate API keys regularly for enhanced security
# LEXI_API_KEY_ROTATION_DAYS=90
# LEXI_API_KEY_ROTATION_WARNING_DAYS=7

# ==============================================
# JWT AUTHENTICATION (Optional)
# ==============================================
LEXI_JWT_ENABLED=False
# Generate JWT secret: python -c "import secrets; print(secrets.token_hex(32))"
# LEXI_JWT_SECRET=your-jwt-secret-here
# LEXI_JWT_ALGORITHM=HS256
# LEXI_JWT_EXPIRATION=86400  # 24 hours in seconds

# ==============================================
# CORS CONFIGURATION
# ==============================================
# Comma-separated list of allowed origins
# SECURITY: NEVER use "*" in production!
#
# Development example:
LEXI_CORS_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:3000,http://127.0.0.1:8000
#
# Production example (replace with your actual domains):
# LEXI_CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
#
LEXI_CORS_CREDENTIALS=True
LEXI_CORS_MAX_AGE=3600

# ==============================================
# RATE LIMITING
# ==============================================
# SECURITY: Prevents DoS attacks and API abuse
# Format: <count>/<period> (e.g., "100/minute", "1000/hour")

# Critical endpoints (authentication, sensitive operations)
LEXI_RATE_LIMIT_CRITICAL=5/minute

# Memory write operations
LEXI_RATE_LIMIT_MEMORY_WRITE=10/minute

# Chat endpoints
LEXI_RATE_LIMIT_CHAT=30/minute

# Read operations
LEXI_RATE_LIMIT_READ=100/minute

# Default for all other endpoints
LEXI_RATE_LIMIT_DEFAULT=100/minute

# Rate limit storage backend
# Options: memory:// (development), redis://localhost:6379 (production)
LEXI_RATE_LIMIT_STORAGE=memory://

# ==============================================
# OLLAMA CONFIGURATION
# ==============================================
OLLAMA_URL=http://localhost:11434
LLM_MODEL=gemma3:4b
EMBEDDING_MODEL=nomic-embed-text
EMBEDDING_URL=http://localhost:11434

# ==============================================
# QDRANT CONFIGURATION
# ==============================================
QDRANT_HOST=localhost
QDRANT_PORT=6333
# LEXI_MEMORY_DIMENSION=768  # For nomic-embed-text

# ==============================================
# EXTERNAL API KEYS (Optional)
# ==============================================
# OpenAI API (for Whisper API)
# OPENAI_API_KEY=sk-...

# ==============================================
# TTS CONFIGURATION (XTTS - Coqui TTS)
# ==============================================
# XTTS Server URL (local Docker container)
XTTS_URL=http://localhost:8020

# XTTS Speaker WAV Path (inside Docker container)
# This is the path where your lexi_voice_training.wav is mounted
XTTS_SPEAKER_WAV=/app/voices/lexi.wav

# XTTS Language
XTTS_LANGUAGE=de

# XTTS Voice Settings
XTTS_TEMPERATURE=0.75  # Creativity (0.0-1.0, higher = more expressive)
XTTS_SPEED=1.0         # Speech speed (0.5-2.0)

# ==============================================
# LOGGING
# ==============================================
# LOG_LEVEL=INFO
# AUDIT_LOG_PATH=/backend/logs/audit.log
